

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DatabankLib CLI &mdash; NMRlipids Databank v1.3.1.dev9+gb2fe58e94 1.3.1.dev9+gb2fe58e94 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=ddfe6846"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Project structure" href="Overview.html" />
    <link rel="prev" title="Examples and tutorials" href="api/exampleAndTutorials.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            NMRlipids Databank v1.3.1.dev9+gb2fe58e94
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Python Interface</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="gettingstarted.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">DatabankLib CLI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-DatabankLib.bin.initialize_data">nml_initialize_data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-DatabankLib.bin.add_simulation">nml_add_simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-DatabankLib.bin.compute_databank">nml_compute_databank</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-DatabankLib.bin.match_experiments">nml_match_experiments</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-DatabankLib.bin.evaluate_quality">nml_evaluate_quality</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-DatabankLib.bin.make_ranking">nml_make_ranking</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Overview.html">Project structure</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Membrane Databank</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="dbstructure.html">Data Organization</a></li>
<li class="toctree-l1"><a class="reference internal" href="dbcontribute.html">Data Contribution</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">NMRlipids Databank v1.3.1.dev9+gb2fe58e94</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">DatabankLib CLI</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/dbprograms.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="databanklib-cli">
<span id="dbprograms"></span><h1>DatabankLib CLI<a class="headerlink" href="#databanklib-cli" title="Link to this heading"></a></h1>
<p>The NMRlipids Databank includes several standalone programs that are used to add simulation, pair them with experiments, evaluate quality and process ranking.</p>
<blockquote>
<div></div></blockquote>
<section id="module-DatabankLib.bin.initialize_data">
<span id="nml-initialize-data"></span><span id="initialize-data-py"></span><h2>nml_initialize_data<a class="headerlink" href="#module-DatabankLib.bin.initialize_data" title="Link to this heading"></a></h2>
<p>Initializes NMRlipids Databank data folder for further work and creates <cite>databank_env.rc</cite> file.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nml_initialize_data [toy|stable|dev|-h]</span>
<span class="go">source databank_env.rc</span>
</pre></div>
</div>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">toy</span></code>: copies ToyData from the package data. This Databank contains only 4 very small systems</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stable</span></code>: download stable release from github.com/NMRlipids/BilayerData (even without git)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dev</span></code>: clone NMRlipids/BilayerData (requires git)</p></li>
</ul>
</section>
<section id="module-DatabankLib.bin.add_simulation">
<span id="nml-add-simulation"></span><span id="add-simulation-py"></span><h2>nml_add_simulation<a class="headerlink" href="#module-DatabankLib.bin.add_simulation" title="Link to this heading"></a></h2>
<p>Add new simulation into the NMRlipids Databank.</p>
<p>The script adds a simulation into the Databank based on <code class="docutils literal notranslate"><span class="pre">info.yaml</span></code> file.</p>
<dl class="simple">
<dt><strong>Usage:</strong></dt><dd><p>nml_add_simulation [-h] [-f FILE] [-d] [-n] [-w WORK_DIR] [–dry-run]</p>
</dd>
</dl>
<dl class="option-list">
<dt><kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></dt>
<dd><p>Show this help message and exit</p>
</dd>
<dt><kbd><span class="option">-f <var>FILE</var></span>, <span class="option">--file=<var>FILE</var></span></kbd></dt>
<dd><p>Input config file in yaml format.</p>
</dd>
<dt><kbd><span class="option">-d</span>, <span class="option">--debug</span></kbd></dt>
<dd><p>Enable debug logging output</p>
</dd>
<dt><kbd><span class="option">-n</span>, <span class="option">--no-cache</span></kbd></dt>
<dd><p>Always redownload repository files</p>
</dd>
<dt><kbd><span class="option">-w <var>WORK_DIR</var></span>, <span class="option">--work-dir=<var>WORK_DIR</var></span></kbd></dt>
<dd><p>Set custom temporary working directory [not set = read from YAML]</p>
</dd>
</dl>
<p><strong>Returns</strong> error codes:</p>
<ul class="simple">
<li><p>0 - success</p></li>
<li><p>1 - input YAML parsing errors</p></li>
<li><p>2 - filesystem writting errors</p></li>
<li><p>3 - network accessing errors</p></li>
</ul>
</section>
<section id="module-DatabankLib.bin.compute_databank">
<span id="nml-compute-databank"></span><span id="compute-databank-py"></span><h2>nml_compute_databank<a class="headerlink" href="#module-DatabankLib.bin.compute_databank" title="Link to this heading"></a></h2>
<p>Compute properties for systems of the databank.</p>
<p>Script can compute selected set of properties for selected range of systems of the databank.
Properties available: APL, thickness, PCA relaxation times, MAICOS (density profiles,
water orientation, dielectric profiles, X-ray form factor).</p>
<p><strong>Usage:</strong></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nml_compute_databank [--apl] [--nmrpca] [--maicos] [--thickness] \</span>
<span class="go">    [--OP] [--range 0-1000] [--debug] [-h]</span>
</pre></div>
</div>
<p><strong>Command line arguments:</strong></p>
<dl class="option-list">
<dt><kbd><span class="option">--range=<var>ID_RANGE</var></span></kbd></dt>
<dd><p>Range of system IDs to analyze, e.g. 0-1000. The interval <cite>ID_RANGE</cite> can be opened at either end, e.g. <code class="docutils literal notranslate"><span class="pre">*-50</span></code> or <code class="docutils literal notranslate"><span class="pre">25-*</span></code>. Use <code class="docutils literal notranslate"><span class="pre">*-0</span></code> to analyze all just-added systems.</p>
</dd>
<dt><kbd><span class="option">--apl</span></kbd></dt>
<dd><p>Compute APL (Area Per Lipid) for all systems.</p>
</dd>
<dt><kbd><span class="option">--nmrpca</span></kbd></dt>
<dd><p>Compute NMR PCA for all systems.</p>
</dd>
<dt><kbd><span class="option">--ff</span></kbd></dt>
<dd><p>Compute MAICOS electron density and form-factor for all systems.</p>
</dd>
<dt><kbd><span class="option">--maicos</span></kbd></dt>
<dd><p>Compute MAICOS profiles for all systems.</p>
</dd>
<dt><kbd><span class="option">--thickness</span></kbd></dt>
<dd><p>Compute Thickness for all systems.</p>
</dd>
<dt><kbd><span class="option">--OP</span></kbd></dt>
<dd><p>Compute Order Parameter for all systems.</p>
</dd>
<dt><kbd><span class="option">--debug</span></kbd></dt>
<dd><p>Enable debug logging.</p>
</dd>
<dt><kbd><span class="option">--help</span></kbd></dt>
<dd><p>Show this help message and exit.</p>
</dd>
</dl>
</section>
<section id="module-DatabankLib.bin.match_experiments">
<span id="nml-match-experiments"></span><span id="match-experiments-py"></span><h2>nml_match_experiments<a class="headerlink" href="#module-DatabankLib.bin.match_experiments" title="Link to this heading"></a></h2>
<p>Match simulations with experiments in the databank.</p>
<p>Script goes through all simulations and experiments in the databank and finds
pairs of simulations and experiments that match in composition, temperature and
other conditions. The found pairs are written into the simulation <a class="reference internal" href="schemas/simulation_metadata.html#readmesimu"><span class="std std-ref">README.yaml</span></a>
files and into a log file.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nml_match_experiments</span>
</pre></div>
</div>
<p>No arguments are needed.</p>
</section>
<section id="module-DatabankLib.bin.evaluate_quality">
<span id="nml-evaluate-quality"></span><span id="quality-evaluation-py"></span><h2>nml_evaluate_quality<a class="headerlink" href="#module-DatabankLib.bin.evaluate_quality" title="Link to this heading"></a></h2>
<p>Perform comparison of experiments and simulations.</p>
<p>The script compares according to <strong>EXPERIMENT</strong> field inside <a class="reference internal" href="schemas/simulation_metadata.html#readmesimu"><span class="std std-ref">the simulation README.yaml file</span></a>.
In the standard protocol, it should be run <em>after</em> <a class="reference internal" href="#match-experiments-py"><span class="std std-ref">nml_match_experiments</span></a>.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nml_evaluate_quality</span>
</pre></div>
</div>
<p>No arguments are needed.</p>
</section>
<section id="module-DatabankLib.bin.make_ranking">
<span id="nml-make-ranking"></span><span id="make-ranking-py"></span><h2>nml_make_ranking<a class="headerlink" href="#module-DatabankLib.bin.make_ranking" title="Link to this heading"></a></h2>
<p>Creates different types of ranking lists inside the Databank.</p>
<p>It ranks simulations based on their quality against experiments. The ranking lists are stored in
<code class="docutils literal notranslate"><span class="pre">{NMLDB_DATA_PATH}/Ranking/</span></code> folder in JSON format.
The lists can be shown with the <code class="docutils literal notranslate"><span class="pre">DatabankLib.plottings</span></code> module.</p>
<p><strong>Usage:</strong></p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">nml_make_ranking</span>
</pre></div>
</div>
<p>No arguments are needed.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="api/exampleAndTutorials.html" class="btn btn-neutral float-left" title="Examples and tutorials" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Overview.html" class="btn btn-neutral float-right" title="Project structure" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, NMRlipids Open Collaboration
    OSI Approved: GNU General Public License v3 (GPLv3)
    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version
   .
        <p>
            <a href="https://github.com/NMRLipids/Databank/blob/main/LICENSE.txt"
            target="_blank"
            rel="noopener">
            Link to GNU GPL v3 License
            </a>
        </p>
        <p>
            <a href="https://github.com/NMRLipids/Databank"
            target="_blank"
            rel="noopener">
            Link to the GitHub repository
            </a>
        </p></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>